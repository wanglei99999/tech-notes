# 01 - 环境搭建

## uv 简介

uv 是一个用 Rust 编写的 Python 包管理工具，比 pip 快 10-100 倍。

### uv vs conda 对比

| 特性 | uv | conda |
|------|-----|-------|
| 速度 | 极快 | 相对较慢 |
| 环境管理 | 项目级 `.venv` | 集中管理 |
| 包来源 | PyPI | conda-forge |
| 非 Python 依赖 | 不支持 | 支持（CUDA 等） |
| 安装体积 | 很小 | 较大 |

### 常用命令

```bash
# 创建虚拟环境
uv venv --python 3.11

# 激活环境（Windows cmd）
.venv\Scripts\activate

# 安装包
uv pip install langchain

# 查看已安装的包
uv pip list
```

## 项目初始化

### 方式一：简单方式（学习推荐）

```bash
mkdir langchain-learning
cd langchain-learning
uv venv --python 3.11
.venv\Scripts\activate
uv pip install langchain langchain-openai python-dotenv
```

### 方式二：正式项目

```bash
uv init langchain-learning
cd langchain-learning
uv add langchain langchain-openai python-dotenv
```

`uv init` 会创建 `pyproject.toml`，`uv add` 会自动记录依赖。

## VSCode 集成

1. 安装 Python 扩展（Microsoft）
2. 用 VSCode 打开项目目录
3. `Ctrl + Shift + P` → `Python: Select Interpreter`
4. 选择 `.venv` 中的 Python

验证：终端前面有 `(.venv)` 前缀即成功。

## 安装 LangChain 相关包

```bash
# 核心包
uv pip install langchain langchain-core langchain-community

# LLM 集成（按需选择）
uv pip install langchain-openai      # OpenAI
uv pip install langchain-anthropic   # Claude
uv pip install dashscope             # 阿里通义千问

# 工具
uv pip install python-dotenv         # 环境变量
uv pip install jupyter               # Notebook
```

## 环境变量配置

创建 `.env` 文件：

```env
OPENAI_API_KEY=sk-xxx
# 或
ANTHROPIC_API_KEY=sk-xxx
```

代码中加载：

```python
from dotenv import load_dotenv
load_dotenv()
```
